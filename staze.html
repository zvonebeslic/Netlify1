<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mountain Adventures</title>

  <!-- SEO opisi na Hrv i Engl -->
  <meta name="description" lang="hr" content="Istraži planinarske staze Balkana. Detaljni opisi planinarskih tura. Planinarska oprema. GPS tragovi za planinarenje. Inspirativne i poučne planinarske priče. Planinarski svijet na jednom mjestu. Planinarske staze Velebita. Planinarske staze Nacionalni park Paklenica. Planinarske staze Nacionalni park Triglav. Planinarske staze Nacionalni park Sutjeska. Planinarske staze Nacionalni park Prokletije. Planinarske staze Nacionalni park Durmitor. Planinarske staze Nacionalni park Biogradska gora. Planinarske staze Nacionalni park Plitvička jezera. Planinarske staze Nacionalni park Sjeverni Velebit. Planinarske staze Nacionalni park Risnjak. Planinarske staze Nacionalni park Tara. Planinarske staze Nacionalni park Kopaonik. Planinarske staze Nacionalni park Đerdap. Planinarske staze Nacionalni park Mavrovo. Planinarske staze Nacionalni park Galicica. Planinarske staze Nacionalni park Pelister. Planinarske staze Julijske Alpe. Planinarske staze Nacionalni park Logarska dolina. Planinarske staze Park prirode Blidinje. Planinarske staze Prenj. Planinarske staze Park prirode Biokovo. Planinarske staze Komovi. Planinarske staze Rila. Planinarske staze Čvrsnica. Planinarske staze Hrvatske,Planinarske staze Bosne i Hercegovine,Planinarske staze Albanije,Planinarske staze Slovenije,Planinarske staze Makedonije,Planonarske staze Crne Gore i Planinarske staze Srbije.">
  <meta name="description" lang="en" content="Explore the hiking trails of the Balkans. Detailed descriptions of hiking trails. Hiking gear. GPS tracks for hiking. Inspiring and educational hiking stories. Your mountain world in one place. Hiking trails on Velebit. Hiking trails in Paklenica National Park. Hiking trails in Triglav National Park. Hiking trails in Sutjeska National Park. Hiking trails on Prokletije. Hiking trails in Durmitor National Park. Hiking trails in Biogradska Gora National Park. Hiking trails in Plitvice Lakes National Park. Hiking trails in Northern Velebit National Park. Hiking trails in Risnjak National Park. Hiking trails in Tara National Park. Hiking trails in Kopaonik National Park. Hiking trails in Đerdap National Park. Hiking trails in Mavrovo National Park. Hiking trails in Galicica National Park. Hiking trails in Pelister National Park. Hiking trails in the Julian Alps. Hiking trails in Logarska Dolina National Park. Hiking trails in Blidinje Nature Park. Hiking trails on Prenj. Hiking trails in Biokovo Nature Park. Hiking trails on Komovi. Hiking trails on Rila. Hiking trails on Čvrsnica. Hiking trails in Croatia. Hiking trails in Bosnia and Herzegovina. Hiking trails in Albania. Hiking trails in Slovenia. Hiking trails in Macedonia. Hiking trails in Montenegro. Hiking trails in Serbia.">

  <!-- Kodovi da Google prepoznaje SEO za oba jezika -->
  <link rel="alternate" hreflang="hr" href="https://tvojadomena.com/staze.html" />
  <link rel="alternate" hreflang="en" href="https://tvojadomena.com/staze.html" />

  <!-- Open Graph (HR + EN) -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://tvojadomena.com/staze.html">
  <meta property="og:image" content="https://tvojadomena.com/images/cover.jpg">
  <meta property="og:title" content="Mountain Adventures – Planinarske staze Balkana">
  <meta property="og:description" content="Planinarske staze, GPS tragovi, planinarska oprema i inspirativne priče. Istraži Velebit, Durmitor, Prokletije i druge planine Balkana.">
  <meta property="og:title" lang="en" content="Mountain Adventures – Balkan Hiking Trails">
  <meta property="og:description" lang="en" content="Hiking trails, GPS tracks, hiking gear and inspiring stories. Explore Velebit, Durmitor, Prokletije and other Balkan mountains.">

  <!-- Twitter Cards (HR + EN) -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://tvojadomena.com/images/cover.jpg">
  <meta name="twitter:title" content="Mountain Adventures – Planinarske staze Balkana">
  <meta name="twitter:description" content="Planinarske staze, GPS tragovi, planinarska oprema i inspirativne priče. Istraži Velebit, Durmitor, Prokletije i druge planine Balkana.">
  <meta name="twitter:title" lang="en" content="Mountain Adventures – Balkan Hiking Trails">
  <meta name="twitter:description" lang="en" content="Hiking trails, GPS tracks, hiking gear and inspiring stories. Explore Velebit, Durmitor, Prokletije and other Balkan mountains.">

  <!-- Ikona -->
  <link rel="icon" href="images/mountain-adventures.svg" type="image/svg+xml">

  <!-- Fontovi (naslovna) -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">

  <!-- SEASON STILOVI -->
  <link rel="stylesheet" href="season.css" />
</head>

<style>
  /* === OSNOVNI RESET I GLOBALNA PRAVILA === */
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    font-family: Arial, sans-serif;
    overflow-x: hidden;
    scroll-behavior: smooth;
    background-color: #000;
  }

  /* === NAVIGACIJA / GORNJI IZBORNIK === */
  .navbar {
    position: fixed;
    top: 0;
    width: 100%;
    height: 70px;
    background: rgba(0, 0, 0, 0.7);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 15px;
    z-index: 1000;
  }

  /* === ZASTAVICA (tooltip na hover) === */
  .navbar-left img {
    height: 16px;
    width: 24px;
    cursor: pointer;
    position: relative;
  }

  .navbar-left img:hover::after {
    content: attr(data-tooltip);
    position: absolute;
    background: #fff;
    color: #000;
    padding: 4px 8px;
    border-radius: 5px;
    font-size: 12px;
    top: 30px;
    left: 0;
    white-space: nowrap;
    box-shadow: 0 0 6px rgba(0,0,0,0.2);
  }

  /* === TRAŽILICA (CENTAR) === */
  .navbar-center {
    flex: 1;
    display: flex;
    justify-content: center;
    z-index: 1;
    transform: translateY(12px);
  }

  .search-container {
    width: 250px;
    position: relative;
    padding-top: 10px;
    z-index: 1;
  }

  .search-wrapper {
    position: relative;
    z-index: 2;
    width: 100%;
    height: 30px;
    background: #fff;
    box-shadow: 0 3px 8px rgba(0, 0, 0, 0.3);
    padding: 0 15px;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    overflow: visible;
    border-radius: 20px;
  }

  /* === UKRASNA PLANINA IZNAD TRAŽILICE === */
  .search-top-decoration {
    position: absolute;
    top: -212.7px;
    left: 108px;
    width: 1600%;
    height: 30px;
    object-fit: cover;
    display: block;
    z-index: -10;
    transform: scale(19);
    transform-origin: top center;
    pointer-events: none;
  }

  /* === UNUTARNJI INPUT POLJE === */
  .mountain-search {
    width: 100%;
    padding: 14px 40px 8px 12px;
    font-size: 14px;
    border: none;
    background: transparent;
    color: #333;
    outline: none;
  }

  /* === IKONA UNUTAR TRAŽILICE === */
  .search-wrapper img {
    position: absolute;
    right: 12px;
    bottom: 8px;
    width: 19px;
    height: 19px;
    pointer-events: none;
  }

  /* === DESNA STRANA (HAMBURGER IKONA) === */
  .navbar-right {
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 5px;
    padding: 8px;
    border: 1px solid rgba(255, 255, 255, 0.4);
    border-radius: 8px;
    cursor: pointer;
    background: rgba(255, 255, 255, 0.05);
    transition: background 0.3s, transform 0.2s;
  }

  .navbar-right:hover {
    background: rgba(255, 255, 255, 0.1);
    transform: scale(1.05);
  }

  .burger-line {
    width: 26px;
    height: 3px;
    background-color: white;
    border-radius: 2px;
  }

  /* === MENI KOJI SE OTVARA === */
  .menu-overlay {
    position: fixed;
    top: 70px;
    right: 0;
    width: 35vw;
    background-color: rgba(17, 17, 17, 0.95);
    color: white;
    padding: 20px;
    display: none;
    flex-direction: column;
    align-items: flex-start;
    z-index: 9999;
  }

  .menu-overlay.open { display: flex; }

  .menu-overlay a {
    margin: 10px 0;
    text-decoration: none;
    color: white;
    font-size: 1.1em;
  }

  .section {
    height: 50vh;
    overflow: hidden;
    position: relative;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    transition: transform 1s ease, opacity 1s ease;
  }

  /* === SEKCIJA KOJA JE VIDLJIVA U VIEWPORTU === */
  .section.visible {
    opacity: 1;
    transform: scale(1.05);
    z-index: 2;
  }

  /* === SEKCIJE KOJE NISU U FOKUSU === */
  .section:not(.visible) {
    opacity: 0.4;
    transform: scale(1);
  }

  .trail-list {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    justify-content: center;
  }

  .trail-card {
    width: 300px;
    border: 1px solid #ccc;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    background-color: #fafafa;
    transition: transform 0.2s ease;
  }

  .trail-card:hover { transform: scale(1.02); }

  .trail-card img {
    width: 100%;
    height: 180px;
    object-fit: cover;
  }

  .trail-card div { padding: 1rem; }

  .trail-card h3 { margin-top: 0; }

  #trail-filter-form {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    justify-content: center;
    margin: 1rem 0 2rem;
  }

  #trail-filter-form select,
  #trail-filter-form button {
    padding: 0.5rem 1rem;
    border-radius: 5px;
    border: 1px solid #888;
    font-size: 1rem;
  }

  #trail-filter-form button {
    background-color: #35776a;
    color: #fff;
    cursor: pointer;
  }

  #trail-filter-form button:hover { background-color: #26594f; }

  /* === GUMB "NA VRH STRANICE" (BACK TO TOP) === */
  #backToTop {
    position: fixed;
    bottom: 22px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 9999;
    background: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(12px);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
    outline: none;
    width: 48px;
    height: 48px;
    border-radius: 50%;
    cursor: pointer;
    display: none;
    align-items: center;
    justify-content: center;
    transition: background 0.3s ease, transform 0.3s ease;
  }

  #backToTop:hover {
    background-color: rgba(255, 255, 255, 0.3);
    transform: translateX(-50%) scale(1.1);
  }

  #backToTop svg { width: 24px; height: 24px; }

  /* === FOOTER === */
  footer {
    background: #111;
    color: #ccc;
    text-align: center;
    padding: 20px 10px;
    font-size: 14px;
    position: relative;
    margin-top: 60px;
  }

  .footer-icons { margin: 10px 0; }

  .footer-icons svg {
    width: 32px;
    height: 32px;
    margin: 0 10px;
    vertical-align: middle;
    opacity: 0.8;
    transition: opacity 0.3s, transform 0.3s;
  }

  .footer-icons svg:hover {
    opacity: 1;
    transform: scale(1.1);
  }

  /* === OPĆI EFEKT PRITISKA (UNIVERZALNA KLASA .pressed) === */
  .pressed {
    transform: scale(0.97);
    transition: transform 0.15s ease;
  }

  /* === UNUTARNJI SLOJ I TEKST (KUTIJA SADRŽAJA) === */
  .content-box {
    overflow: hidden;
    position: relative;
  }

  /* === DODATNI INTERAKTIVNI ELEMENTI: ZASTAVICE, IKONE, GUMBI === */
  .lang-flag {
    transition: transform 0.15s ease, background-color 0.2s ease, filter 0.2s ease;
    cursor: pointer;
    transform-origin: center center;
  }

  /* === HOVER EFEKT ZA GORENJE ELEMENTE === */
  .lang-flag:hover {
    filter: brightness(1.1);
    background-color: rgba(255, 255, 255, 0.15);
    color: #fff;
  }

  /* === SPRIJEČAVANJE ŠIRENJA VAN EKRANA === */
  html, body { overflow-x: hidden !important; }
</style>

<body>
  <div id="season-placeholder"></div>

  <!-- === NAVIGACIJA (gore) === -->
  <div class="navbar">
    <div class="navbar-left">
      <img
        id="language-toggle"
        src="images/flag-uk.svg"
        data-hr-alt="promjena jezika na engleski"
        data-en-alt="switch language to Croatian"
        data-hr-tooltip="Promijeni jezik"
        data-en-tooltip="Switch language"
        alt="promjena jezika na engleski"
        data-tooltip="Promijeni jezik">
    </div>

    <div class="navbar-center">
      <div class="search-container">
        <div class="search-wrapper">
          <img
            class="search-top-decoration"
            src="images/planine-za-trazilicu.png"
            data-hr-alt="planinski-vrhovi"
            data-en-alt="mountain peaks"
            alt="planinski-vrhovi" />
          <input
            id="search"
            class="mountain-search"
            type="text"
            data-hr-ph="Pretraži..."
            data-en-ph="Search..."
            placeholder="Pretraži..." />
          <img
            src="images/search.svg"
            data-hr-alt="ikona za tražilicu"
            data-en-alt="search icon"
            alt="ikona za tražilicu">
        </div>
      </div>
    </div>

    <div class="navbar-right" id="menu-toggle" aria-label="Menu">
      <div class="burger-line"></div>
      <div class="burger-line"></div>
      <div class="burger-line"></div>
    </div>
  </div>

  <!-- === HAMBURGER MENI === -->
  <div class="menu-overlay" id="menu">
    <a href="index.html" data-hr="Naslovna" data-en="Home">Naslovna</a>
    <a href="staze.html" data-hr="Staze" data-en="Trails">Staze</a>
    <a href="avantura.html" data-hr="Avantura" data-en="Adventure">Avantura</a>
    <a href="webshop.html" data-hr="Web shop" data-en="Web Shop">Web shop</a>
    <a href="planinarskevijesti.html" data-hr="Blog" data-en="Blog">Blog</a>
    <a href="digitalniruksak.html" data-hr="Digitalni ruksak" data-en="Digital backpack">Digitalni ruksak</a>
    <a href="kontakt.html" data-hr="Kontakt" data-en="Contact">Kontakt</a>
  </div>

  <!-- Hero sekcija -->
  <section class="image-section" style="background-image: url('images/hero.jpg'); height: 50vh;">
    <div class="overlay"></div>
  </section>

  <main>
    <!-- Uvodna sekcija -->
    <section style="background-color: #f8f8f8; text-align: center;">
      <h1
        data-hr="Istraži planinarske staze Balkana"
        data-en="Explore Balkan hiking trails">
        Istraži planinarske staze Balkana
      </h1>
      <p
        data-hr="Filtriraj i pronađi savršenu rutu prema težini, planini, trajanju ili tvojoj lokaciji."
        data-en="Filter and find the perfect route by difficulty, mountain, duration, or your location.">
        Filtriraj i pronađi savršenu rutu prema težini, planini, trajanju ili tvojoj lokaciji.
      </p>
    </section>

    <!-- Filteri -->
    <section style="background-color: #e3ecec;">
      <h2
        style="text-align: center;"
        data-hr="Filtriraj staze"
        data-en="Filter trails">
        Filtriraj staze
      </h2>

      <form id="trail-filter-form" aria-label="Trail filters">
        <!-- Planina -->
        <select aria-label="Planina">
          <option selected disabled data-hr="Odaberi planinu" data-en="Choose a mountain">Odaberi planinu</option>
          <option>Velebit</option>
          <option>Triglav</option>
          <option>Prokletije</option>
        </select>

        <!-- Težina -->
        <select aria-label="Težina">
          <option selected disabled data-hr="Težina" data-en="Difficulty">Težina</option>
          <option data-hr="Lagana" data-en="Easy">Lagana</option>
          <option data-hr="Srednja" data-en="Moderate">Srednja</option>
          <option data-hr="Teška" data-en="Hard">Teška</option>
        </select>

        <!-- Trajanje -->
        <select aria-label="Trajanje hoda">
          <option selected disabled data-hr="Trajanje hoda" data-en="Hiking duration">Trajanje hoda</option>
          <option data-hr="&lt;2h" data-en="&lt;2h">&lt;2h</option>
          <option data-hr="2–5h" data-en="2–5h">2–5h</option>
          <option data-hr="&gt;5h" data-en="&gt;5h">&gt;5h</option>
        </select>

        <!-- Udaljenost -->
        <select aria-label="Udaljenost">
          <option selected disabled data-hr="Udaljenost" data-en="Distance">Udaljenost</option>
          <option data-hr="&lt;10 km" data-en="&lt;10 km">&lt;10 km</option>
          <option data-hr="10–30 km" data-en="10–30 km">10–30 km</option>
          <option data-hr="&gt;30 km" data-en="&gt;30 km">&gt;30 km</option>
        </select>

        <button
          type="submit"
          data-hr="Primijeni filtre"
          data-en="Apply filters">
          Primijeni filtre
        </button>
      </form>
    </section>

    <!-- Lista staza -->
    <section class="trail-list">
      <!-- Velebit -->
      <article class="trail-card">
        <img
          src="images/velebit.jpg"
          data-hr-alt="Planina Velebit"
          data-en-alt="Velebit Mountain"
          alt="Planina Velebit">
        <div>
          <h3 data-hr="Premužićeva staza" data-en="Premužić Trail">Premužićeva staza</h3>
          <p><strong data-hr="Planina:" data-en="Mountain:">Planina:</strong> Velebit</p>
          <p><strong data-hr="Težina:" data-en="Difficulty:">Težina:</strong> <span data-hr="Srednja" data-en="Moderate">Srednja</span></p>
          <p><strong data-hr="Trajanje:" data-en="Duration:">Trajanje:</strong> 5h</p>
          <p><strong data-hr="Udaljenost:" data-en="Distance:">Udaljenost:</strong> 15 km</p>
          <a href="#" data-hr="Detalji →" data-en="Details →">Detalji →</a>
        </div>
      </article>

      <!-- Triglav -->
      <article class="trail-card">
        <img
          src="images/triglav.jpg"
          data-hr-alt="Planina Triglav"
          data-en-alt="Mount Triglav"
          alt="Planina Triglav">
        <div>
          <h3 data-hr="Uspon na Triglav" data-en="Ascent to Triglav">Uspon na Triglav</h3>
          <p><strong data-hr="Planina:" data-en="Mountain:">Planina:</strong> Triglav</p>
          <p><strong data-hr="Težina:" data-en="Difficulty:">Težina:</strong> <span data-hr="Teška" data-en="Hard">Teška</span></p>
          <p><strong data-hr="Trajanje:" data-en="Duration:">Trajanje:</strong> 8h</p>
          <p><strong data-hr="Udaljenost:" data-en="Distance:">Udaljenost:</strong> 12 km</p>
          <a href="#" data-hr="Detalji →" data-en="Details →">Detalji →</a>
        </div>
      </article>
    </section>
  </main>

  <!-- === GUMB: VRATI NA VRH STRANICE === -->
  <button
    id="backToTop"
    data-hr-title="Na vrh"
    data-en-title="Back to top"
    data-hr-aria="Gumb na vrh"
    data-en-aria="Back to top button"
    title="Na vrh"
    aria-label="Gumb na vrh">
    <svg viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="18 15 12 9 6 15"></polyline>
    </svg>
  </button>

  <!-- === FOOTER === -->
  <footer id="footer">
    <div class="footer-icons">
      <a
        href="https://instagram.com/mountainadventures__"
        target="_blank"
        data-hr-aria="Link za Instagram"
        data-en-aria="Instagram link"
        aria-label="Link za Instagram">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
          <path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path>
          <line x1="17.5" y1="6.5" x2="17.5" y2="6.5"></line>
        </svg>
      </a>
      <a
        href="mailto:mountainadventures1717@gmail.com"
        data-hr-aria="Link za Email"
        data-en-aria="Email link"
        aria-label="Link za Email">
        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="#ffffff" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round">
          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
          <polyline points="22,6 12,13 2,6"></polyline>
        </svg>
      </a>
    </div>

    <span data-hr="© Mountain Adventures. Sva prava pridržana."
          data-en="© Mountain Adventures. All rights reserved.">
      © Mountain Adventures. Sva prava pridržana.
    </span>
  </footer>

  <script src="season.js"></script>

  <script>
    // === 1. DEFINICIJE ELEMENTA ===
    const langToggle   = document.getElementById('language-toggle');
    const searchInput  = document.getElementById('search');
    const menuToggle   = document.getElementById('menu-toggle');
    const menu         = document.getElementById('menu');
    const backToTopBtn = document.getElementById('backToTop');
    const footer       = document.getElementById('footer');
    let currentLang    = 'hr';

    // Helper: sigurno postavljanje textContent/innerHTML
    function applyDataLang(el, lang) {
      const val = el.getAttribute(`data-${lang}`);
      if (val == null) return;
      if (val.includes('<')) el.innerHTML = val; else el.textContent = val;
    }

    // Ažuriranje alt/title/aria/placeholder/tooltip prema jeziku
    function updateAttributesForLang(lang) {
      // alt
      document.querySelectorAll('[data-hr-alt]').forEach(el => {
        const altVal = el.getAttribute(`data-${lang}-alt`);
        if (altVal != null) el.setAttribute('alt', altVal);
      });

      // title
      document.querySelectorAll('[data-hr-title]').forEach(el => {
        const t = el.getAttribute(`data-${lang}-title`);
        if (t != null) el.setAttribute('title', t);
      });

      // aria-label
      document.querySelectorAll('[data-hr-aria]').forEach(el => {
        const a = el.getAttribute(`data-${lang}-aria`);
        if (a != null) el.setAttribute('aria-label', a);
      });

      // tooltip (data-tooltip na flagu)
      const flag = document.getElementById('language-toggle');
      const tip  = flag.getAttribute(`data-${lang}-tooltip`);
      if (tip != null) flag.setAttribute('data-tooltip', tip);

      // placeholder za inpute
      document.querySelectorAll('[data-hr-ph]').forEach(el => {
        const ph = el.getAttribute(`data-${lang}-ph`);
        if (ph != null) el.setAttribute('placeholder', ph);
      });
    }

    // === 2. JEZIČNI TOGGLE I PREVODI ===
    langToggle.addEventListener('click', () => {
      currentLang = currentLang === 'hr' ? 'en' : 'hr';
      document.documentElement.lang = currentLang;

      // zamjena zastave
      langToggle.src = currentLang === 'hr' ? 'images/flag-uk.svg' : 'images/flag-hr.svg';

      // svi elementi s data-hr/data-en
      document.querySelectorAll('[data-hr]').forEach(el => applyDataLang(el, currentLang));

      // linkovi u meniju
      document.querySelectorAll('.menu-overlay a').forEach(link => applyDataLang(link, currentLang));

      // ažuriraj sve atribute
      updateAttributesForLang(currentLang);
    });

    // === 3. HAMBURGER MENI ===
    menuToggle.addEventListener('click', () => {
      menu.classList.toggle('open');
    });

    window.addEventListener('click', e => {
      if (!menu.contains(e.target) && !menuToggle.contains(e.target) && e.target.id !== 'language-toggle') {
        menu.classList.remove('open');
      }
    });

    document.querySelectorAll('.menu-overlay a').forEach(link => {
      link.addEventListener('click', () => menu.classList.remove('open'));
    });

    // === 4. PARALLAX SEKCIJE ===
    const sections = document.querySelectorAll('.section');
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        entry.isIntersecting
          ? entry.target.classList.add('visible')
          : entry.target.classList.remove('visible');
      });
    }, { threshold: 0.52 });

    sections.forEach(section => observer.observe(section));

    // === 5. BACK TO TOP GUMB ===
    window.addEventListener('scroll', () => {
      const scrollY = window.scrollY;
      const footerTop = footer.getBoundingClientRect().top + window.scrollY;
      const windowHeight = window.innerHeight;

      backToTopBtn.style.display = scrollY > 300 ? 'flex' : 'none';
      backToTopBtn.style.bottom = (scrollY + windowHeight > footerTop)
        ? `${(scrollY + windowHeight - footerTop) + 60}px`
        : '30px';
    });

    backToTopBtn.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // === 6. EFEKT PRITISKA NA ZASTAVICU (ako koristiš .lang-flag negdje) ===
    document.querySelectorAll('.lang-flag').forEach(el => {
      el.addEventListener('click', e => {
        const link = el.querySelector('a');
        const href = link ? link.getAttribute('href') : null;
        if (!href) return;
        e.preventDefault();
        el.classList.add('pressed');
        setTimeout(() => {
          el.classList.remove('pressed');
          window.location.href = href;
        }, 150);
      });
    });

    // === 7. SEASON HTML I EFEKTI (dinamički dio) ===
    document.addEventListener("DOMContentLoaded", () => {
      // A) Ako postoji spremljena sezona, pokreni je nakon 10s
      const savedSeason = localStorage.getItem("activeSeason");
      if (savedSeason) {
        setTimeout(() => {
          if (savedSeason === "winter") startWinterEffect(true);
          else if (savedSeason === "summer") startSummerEffect(true);
          else if (savedSeason === "spring") startSpringEffect(true);
          else if (savedSeason === "autumn") startAutumnEffect(true);
        }, 10000);
      }

      // B) Učitaj season.html i inicijaliziraj
      fetch("season.html")
        .then(res => res.text())
        .then(html => {
          document.getElementById("season-placeholder").innerHTML = html;
          if (typeof initializeSeasonToggle === 'function') initializeSeasonToggle();
        });

      // inicijalni alt/title/aria/placeholder/tooltip prema početnom jeziku
      updateAttributesForLang(currentLang);
    });
  </script>
</body>
</html>
